<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="basics.css" type="text/css"></link>
    <script type="text/javascript" src="lib/paper-full.js"></script>
  </head>
  <body>
    <h1>Anatomy of a Path with Paper</h1>
    <section>
      <canvas id="paper-canvas" width="640" height="640"></canvas>
    </section>
  </body>
  <script type="text/javascript">
    paper.setup(document.getElementById("paper-canvas"));

    var path,
        bubblePath,
        smoothedPath,
        wigglePath;

    path = new paper.Path();
    path.strokeWidth = 5.0;
    path.strokeColor = "#333";
    path.fullySelected = true;
    path.add([0, 0], [160, 0], [320, 0]);
    path.applyMatrix = false;
    path.translate([0, 100]);

    bubblePath = path.clone();
    var middle = bubblePath.segments[1];
    middle.handleIn = [-100, 0];
    middle.handleOut = [100, 0];
    bubblePath.translate([0, 100]);
    bubblePath.fullySelected = true;

    smoothedPath = path.clone();
    smoothedPath.translate([0, 200]);
    smoothedPath.smooth();
    smoothedPath.fullySelected = true;

    wigglePath = path.clone();
    wigglePath.translate([0, 350]);
    wigglePath.fullySelected = true;

    paper.view.draw();
    paper.view.onFrame = function (event) {
      var t = event.time * 2.2;
      // clip.radius = (Math.cos(event.time) / 2.0 + 0.5) * 25.0 + 5.0;
      path.segments[1].point.y = Math.sin(t) * 50.0;
      smoothedPath.segments[1].point.y = Math.sin(t) * 50.0;
      smoothedPath.smooth();
      bubblePath.segments[1].point.y = Math.sin(t) * 50.0;

      var middle = wigglePath.segments[1];
      middle.handleIn = [Math.cos(t) * 100.0, Math.sin(t) * 100.0];
      middle.handleOut = [Math.sin(t - Math.PI / 2) * 100.0, - Math.cos(t - Math.PI / 2) * 100.0];
    }
  </script>
</html>
